{% extends 'base.html' %}


{% block content %}

<div class="col-md-12 col-sm-12 col-xs-12">
  <div class="x_panel">
    <h2>Novo Pedido</h2>
    <div class="x_content">
      <!-- {{form}} -->
      <form id="form-pedido" class="form-horizontal form-label-left" action="/pedido/novo_pedido/" method="post">
        {% csrf_token %}
        <div class="form-group">
          <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
            Responsavel pelo Pedido
            <span class="required">*</span>
          </label>
          <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback" >
            {{ form.nome_responsavel }}
            <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
            Data para busca das peças
            <span class="required">*</span>
          </label>
          <div class="col-md-3 col-sm-3 col-xs-6 form-group" type="date" min= { datetime.now } >
            {{ form.data_busca }}
            <span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
            Endereço para busca das peças
            <span class="required">*</span>
          </label>
          <div class="col-md-3 col-sm-3 col-xs-6 form-group" >
            {{ form.endereco_busca }}
            <span class="fa fa-location-arrow form-control-feedback left" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
            Endereço para entrega das peças
            <span class="required">*</span>
          </label>
          <div class="col-md-3 col-sm-3 col-xs-6 form-group" >
            {{ form.endereco_entrega }}
            <span class="fa fa-location-arrow form-control-feedback left" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
            Cartão para pagamento
            <span class="required">*</span>
          </label>
          <div class="col-md-3 col-sm-3 col-xs-6 form-group" >
            {{ form.pagamento }}
            <span class="fa fa-credit-card form-control-feedback left" aria-hidden="true"></span>
          </div>
        </div>


        <div class="form-group">
          <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
            <button id="botaoAdd" class="btn btn-dark">Adicionar Peças</button>
          </div>

            <div class="input_fields_wrap ">
            </div>

        </div>

        <div class="form-group">
          <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
            <a href="{% url 'index'%}" class="btn btn-primary">Cancelar</a>
            <button type="submit" class="btn btn-success">Enviar Pedido</button>
          </div>
        </div>


        <div id="TiposRoupas" class="hide form-group col-xs-12" >

            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
              Tipos de Roupas e Quantidades
              <span class="required">*</span>
            </label>
            <div class="col-md-3 col-sm-3 col-xs-6 form-group" >
              {{ n_form.tipo }}
            </div>
            <div class="col-md-1 col-sm-1 col-xs-1 form-group" >
              {{ n_form.quantidade }}
            </div>
            <a href="#" id="remove_field" class="btn btn-danger">Remover Peça(s)</a>

        </div>



      </form>


    </div>
  </div>
</div>
{% endblock content %}


{% block javascript %}
<!--
<script>
$("#segmentos" ).change(function() {
  var valores = $("#segmentos").val();
  console.log(valores);
  $.inArray("1", valores) >=0 ? $('#total-cama').removeClass('hide') : $('#total-cama').addClass('hide');
  $.inArray("2", valores) >=0 ? $('#total-banho').removeClass('hide') : $('#total-banho').addClass('hide');
});
</script> -->
<script>
  var max_fields      = 11; //maximum input boxes allowed
  var wrapper         = $(".input_fields_wrap"); //Fields wrapper
  var add_button      = $("#botaoAdd"); //Add button ID

  var x = 1; //initlal text box count
  $(add_button).click(function(e){ //on add input button click
      e.preventDefault();
      if(x < max_fields){ //max input box allowed

          x++; //text box increment
          //$(wrapper).append('<div><input type="text" name="mytext[]"/><a href="#" class="remove_field">Remove</a></div>'); //add input box
          $('#TiposRoupas').clone().removeClass('hide').appendTo($('.input_fields_wrap'));
      }
  });

  // $('#modelo').on("click",".remove_field", function(e){ //user click on remove text
  $(wrapper).on("click","#remove_field", function(e){ //user click on remove text
      e.preventDefault(); $(this).parent('div').remove(); x--;
  })

  

  $( "#form-pedido" ).submit(function( event ) {
    alert( "Handler for .submit() called." );
    event.preventDefault();
  });

  // $("#segmentos" ).change(function() {
  //   var valores = $("#segmentos").val();
  //   console.log(valores);
  //   $.inArray("1", valores) >=0 ? $('#total-cama').removeClass('hide') : $('#total-cama').addClass('hide');
  //   $.inArray("2", valores) >=0 ? $('#total-banho').removeClass('hide') : $('#total-banho').addClass('hide');
  // });

</script>



{% endblock %}
